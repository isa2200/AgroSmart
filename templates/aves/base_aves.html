{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}{{ titulo|default:"Gestión de Aves" }} - AgroSmart{% endblock %}

{% block extra_css %}
<style>
    .card-aves {
        border-left: 4px solid #fd7e14;
        transition: all 0.3s ease;
    }
    .card-aves:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .btn-aves {
        background: linear-gradient(45deg, #fd7e14, #f8b500);
        border: none;
        color: white;
    }
    .btn-aves:hover {
        background: linear-gradient(45deg, #e8690b, #e09900);
        color: white;
    }
    .nav-aves .nav-link.active {
        background-color: #fd7e14;
        color: white !important;
    }
</style>
{% endblock %}

{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2"><i class="fas fa-dove text-warning"></i> {{ titulo|default:"Gestión de Aves" }}</h1>
    <div class="btn-toolbar mb-2 mb-md-0">
        {% block toolbar %}{% endblock %}
    </div>
</div>

<!-- Navegación del módulo aves -->
<nav class="nav nav-pills nav-aves mb-4">
    <a class="nav-link {% if 'dashboard' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'aves:dashboard' %}">
        <i class="fas fa-tachometer-alt"></i> Dashboard
    </a>
    <a class="nav-link {% if 'lotes' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'aves:lista_lotes' %}">
        <i class="fas fa-layer-group"></i> Lotes
    </a>
    <a class="nav-link {% if 'produccion' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'aves:lista_produccion' %}">
        <i class="fas fa-egg"></i> Producción
    </a>
    <a class="nav-link {% if 'costos' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'aves:lista_costos' %}">
        <i class="fas fa-dollar-sign"></i> Costos
    </a>
    <a class="nav-link {% if 'vacunacion' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'aves:calendario_vacunas' %}">
        <i class="fas fa-syringe"></i> Vacunación
    </a>
    <a class="nav-link {% if 'mortalidad' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'aves:lista_mortalidad' %}">
        <i class="fas fa-heartbeat"></i> Mortalidad
    </a>
</nav>

{% block aves_content %}
{% endblock %}
{% endblock %}

{% block extra_js %}
<script>
// Funciones JavaScript comunes para el módulo aves
function confirmarEliminacion(mensaje) {
    return confirm(mensaje || '¿Está seguro de que desea eliminar este elemento?');
}

function formatearNumero(numero) {
    return new Intl.NumberFormat('es-CO').format(numero);
}

function calcularPorcentaje(valor, total) {
    return total > 0 ? ((valor / total) * 100).toFixed(2) : 0;
}
</script>
{% endblock %}